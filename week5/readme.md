# 第五周作业

设计一个新的容错机制，同步转异步的容错机制。当满足以下两个条件中的任何一个时，将请求转储到数据库，后续再另外启动一个 goroutine 异步发送出去。

- 触发了限流。
- 判定服务商已经崩溃。

**要求：**

- 如何判定服务商已经崩溃，不允许使用课程上的判断机制，你需要设计一个新的判断机制，并且解释这种判定机制的决策理由。
- 控制异步重试次数，转储到数据库之后，可以重试 N 次，重试间隔你可以自由决策。
- 不允许写死任何参数，即用户必须可以控制控制参数。
- 保持面向接口和依赖注入风格。
- 写明这种容错机制适合什么场景，并且有什么优缺点。
- 针对提出的缺点，写出后续的改进方案。
- 提供单元测试。
- 设计方案的时候，不允许问老师、助教。即方案肯定得你自己设计，包括优缺点分析、改进方向必须独立完成。

